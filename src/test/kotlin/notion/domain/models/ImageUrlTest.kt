package notion.domain.models

import io.kotest.core.spec.style.FunSpec
import io.kotest.matchers.shouldBe
import org.danceofvalkyries.notion.domain.models.ImageUrl

class ImageUrlTest : FunSpec() {

    init {
        test("Telegram does not support images from shuttershock") {
            ImageUrl(
                "https://www.shutterstock.com/image-vector/cute-baby-regurgitating-after-eating-260nw-2016458315.jpg"
            ).isSupportedByTelegram shouldBe false
        }

        test("Telegram does not support encoded base64 images") {
            ImageUrl(
                "data:image/jpeg;base64,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"
            ).isSupportedByTelegram shouldBe false
        }

        test("Telegram does not support queries in URLS for images") {
            ImageUrl(
                "https://dictionary.cambridge.org/images/full/cradle_noun_002_08992.jpg?version\\u003d5.0.318"
            ).isSupportedByTelegram shouldBe false
        }

        test("Telegram supports images") {
            ImageUrl(
                "https://valid-domain.com/cute-baby-regurgitating-after-eating-260nw-2016458315.jpg"
            ).isSupportedByTelegram shouldBe true
        }
    }
}